"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const eslint_import_resolver_typescript_1 = require("eslint-import-resolver-typescript");
const eslint_plugin_import_x_1 = require("eslint-plugin-import-x");
const utils_1 = require("../utils");
const getImportSettings = (params) => {
    const { javascript, typescript, jsx } = params;
    const extensions = (() => {
        if (jsx) {
            if (javascript)
                return utils_1.jsExtensionsWithReact;
            if (typescript)
                return utils_1.tsExtensionsWithReactDTS;
            return [];
        }
        if (javascript)
            return utils_1.jsExtensions;
        if (typescript)
            return utils_1.tsExtensionsResolver;
        return [];
    })();
    return Object.assign({ 'import-x/resolver-next': [
            (0, eslint_plugin_import_x_1.createNodeResolver)({ extensions: [...extensions, '.json'] }),
            ...(typescript
                ? [
                    (0, eslint_import_resolver_typescript_1.createTypeScriptImportResolver)({
                        alwaysTryTypes: true,
                    }),
                ]
                : []),
        ], 'import-x/extensions': extensions }, (typescript
        ? {
            // Apply special parsing for TypeScript files
            'import-x/parsers': {
                '@typescript-eslint/parser': extensions,
            },
            // Resolve type definition packages
            'import-x/external-module-folders': ['node_modules', 'node_modules/@types'],
        }
        : null));
};
exports.default = getImportSettings;
